["927a346b3b7dc9498578e756d154f8b14778359d","ff2a5847f2c6560f753657abbc18d8a5687ed860",["./commons"],[47],{"version":3,"sources":["/var/www/geruapp/node_modules/event-target-shim/lib/event-wrapper.js"],"names":["createUniqueKey","require","STOP_IMMEDIATE_PROPAGATION_FLAG","CANCELED_FLAG","ORIGINAL_EVENT","wrapperPrototypeDefinition","Object","freeze","stopPropagation","value","e","writable","configurable","stopImmediatePropagation","preventDefault","cancelable","defaultPrevented","get","enumerable","exports","createEventWrapper","event","eventTarget","timeStamp","Date","now","propertyDefinition","type","target","currentTarget","eventPhase","bubbles","Boolean","isTrusted","detail","create"],"mappings":"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","sourcesContent":["/**\n * @author Toru Nagashima\n * @copyright 2015 Toru Nagashima. All rights reserved.\n * See LICENSE file in root directory for full license.\n */\n\n\"use strict\";\n\n//-----------------------------------------------------------------------------\n// Requirements\n//-----------------------------------------------------------------------------\n\nvar createUniqueKey = require(\"./commons\").createUniqueKey;\n\n//-----------------------------------------------------------------------------\n// Constsnts\n//-----------------------------------------------------------------------------\n\n/**\n * The key of the flag which is turned on by `stopImmediatePropagation` method.\n *\n * @type {symbol|string}\n * @private\n */\nvar STOP_IMMEDIATE_PROPAGATION_FLAG =\n    createUniqueKey(\"stop_immediate_propagation_flag\");\n\n/**\n * The key of the flag which is turned on by `preventDefault` method.\n *\n * @type {symbol|string}\n * @private\n */\nvar CANCELED_FLAG = createUniqueKey(\"canceled_flag\");\n\n/**\n * The key of the original event object.\n *\n * @type {symbol|string}\n * @private\n */\nvar ORIGINAL_EVENT = createUniqueKey(\"original_event\");\n\n/**\n * Method definitions for the event wrapper.\n *\n * @type {object}\n * @private\n */\nvar wrapperPrototypeDefinition = Object.freeze({\n    stopPropagation: Object.freeze({\n        value: function stopPropagation() {\n            var e = this[ORIGINAL_EVENT];\n            if (typeof e.stopPropagation === \"function\") {\n                e.stopPropagation();\n            }\n        },\n        writable: true,\n        configurable: true\n    }),\n\n    stopImmediatePropagation: Object.freeze({\n        value: function stopImmediatePropagation() {\n            this[STOP_IMMEDIATE_PROPAGATION_FLAG] = true;\n\n            var e = this[ORIGINAL_EVENT];\n            if (typeof e.stopImmediatePropagation === \"function\") {\n                e.stopImmediatePropagation();\n            }\n        },\n        writable: true,\n        configurable: true\n    }),\n\n    preventDefault: Object.freeze({\n        value: function preventDefault() {\n            if (this.cancelable === true) {\n                this[CANCELED_FLAG] = true;\n            }\n\n            var e = this[ORIGINAL_EVENT];\n            if (typeof e.preventDefault === \"function\") {\n                e.preventDefault();\n            }\n        },\n        writable: true,\n        configurable: true\n    }),\n\n    defaultPrevented: Object.freeze({\n        get: function defaultPrevented() { return this[CANCELED_FLAG]; },\n        enumerable: true,\n        configurable: true\n    })\n});\n\n//-----------------------------------------------------------------------------\n// Public Interface\n//-----------------------------------------------------------------------------\n\nexports.STOP_IMMEDIATE_PROPAGATION_FLAG = STOP_IMMEDIATE_PROPAGATION_FLAG;\n\n/**\n * Creates an event wrapper.\n *\n * We cannot modify several properties of `Event` object, so we need to create the wrapper.\n * Plus, this wrapper supports non `Event` objects.\n *\n * @param {Event|{type: string}} event - An original event to create the wrapper.\n * @param {EventTarget} eventTarget - The event target of the event.\n * @returns {Event} The created wrapper. This object is implemented `Event` interface.\n * @private\n */\nexports.createEventWrapper = function createEventWrapper(event, eventTarget) {\n    var timeStamp = (\n        typeof event.timeStamp === \"number\" ? event.timeStamp : Date.now()\n    );\n    var propertyDefinition = {\n        type: {value: event.type, enumerable: true},\n        target: {value: eventTarget, enumerable: true},\n        currentTarget: {value: eventTarget, enumerable: true},\n        eventPhase: {value: 2, enumerable: true},\n        bubbles: {value: Boolean(event.bubbles), enumerable: true},\n        cancelable: {value: Boolean(event.cancelable), enumerable: true},\n        timeStamp: {value: timeStamp, enumerable: true},\n        isTrusted: {value: false, enumerable: true}\n    };\n    propertyDefinition[STOP_IMMEDIATE_PROPAGATION_FLAG] = {value: false, writable: true};\n    propertyDefinition[CANCELED_FLAG] = {value: false, writable: true};\n    propertyDefinition[ORIGINAL_EVENT] = {value: event};\n\n    // For CustomEvent.\n    if (typeof event.detail !== \"undefined\") {\n        propertyDefinition.detail = {value: event.detail, enumerable: true};\n    }\n\n    return Object.create(\n        Object.create(event, wrapperPrototypeDefinition),\n        propertyDefinition\n    );\n};\n"]}]